1.DFS
初始化注册频点到逻辑；
主节点：
同步状态下生效，在空闲位置获取最佳频点；

1.1.在时隙表中锁定出一片至少6个时隙的空闲区域作为切频时隙位置，如果没有则不切频；
切频流程：每个时隙依次执行1.2~1.7;
1.2.设置增益值，配置增益并切换到检测频点；
1.3.关闭切频寄存器；
1.4.等待状态；
1.5.如果切频成功标识置位，则切换到新使用频点，如果没有置位则切回到原使用频点；
1.6.统计并保存检测频点下的dbfs，当所有频点都检测完后，更新切频索引；
1.7.当没有接收时，不更新切频索引；有接收时根据误码率以及更小的信噪比判断来更新切频索引；
1.8.1.5的切频成功标识与新使用频点在tx发射配置ID域后更新；

从节点：
未同步情况下，每隔4个帧长，扫描下一个频点，直到获取接收后，设置发射位置发射；从而实现同步；

2.AFS
初始化注册频点到逻辑；
主节点：
1、上电初始化之后，配置相同vga，每个频点循环多次计算平均接收功率；
2、获取最佳底噪位置，然后切换频点；

从节点：
1、未同步时不分配发射时隙；
2、未同步，则每隔4个帧长，切频到下一个频点，直到同步到主节点；

3.跳频
1、初始化根据频点最大最小值，切分出大量频点，并注册到逻辑；
2、根据可接入节点数，将1中的频点集合划分为二维表格，最后3个频点数值为最小、最大、默认频点，并且维护此3个频点组成默认频点表；
3、系统启动后，每当有发射或接收时隙变动，都会更新在此发射位置跳频时候的时隙位置偏移和位置跨帧标志；
4、内核维护切频计数，并通过ID域同步到其他节点；
5、发射位置发射携带跳频计数到ID域，发射完成后更新下一个跳频索引；
6、接收端接收同步获取ID域中跳频计数，更新该时隙位置的跳频计数，然后计算出下一跳频点索引；
7、当下一个帧周期时，收发节点都会在此时隙位置，根据3中计算的配置跳频位置，下发切频指令，从而完成收发端的同时跳频；
8、发射完或者接收完成后会配置频点到默认频点，以使得新接入节点的频点变为默认频点时可以接入到该节点中；
9、根据测试发现，同步需要两节点相同频点持续几个帧周期，否则同步不了，所以必须保留2中提到的默认频点表；
10、切频时切换一段时间的由大到小依次频点，然后再切换一段时间默认频点表；

4.AES加密

5.测距
1、信令包，用户态只在整包时解析测距信令数据，如果信令包分段，则只处理原信令数据；
2、














6.路由

7.接收时隙

8.流量统计

9.底噪检测

10.频点扫描

11.增益配置

12.时隙划分

13.串口
组播：
网页配置协议为multicast，设置组播IP，源目的端口，组播ip为网转串接收ip，也是串转网发送ip；
14.电调

15.温补

16.Web网页

17.Arp本地化

18.日志处理
19.数据发送
20.数据接收
21.Crc校验
22.同步
22.1.发射

22.2.接收
1、第一次接收校验ID域数据，获取发射端信息：长度、时域、信令包计数，并从每个时隙寄存器中获取开始位置、频偏，依照这些数据新建接收结构；
2、校验此接收在一定范围内是否有重叠，如果没有，则直接下发解调参数；
3、如果有的话，则持续监测多次后依然存在则将此接收推送到接收表处理；
4、第二次接收校验ID域数据，在第一次的后一个时隙，校验并获取节点ID、发射位置、时钟对齐ID、时钟计数，并执行类似3的处理流程；
5、如果有切频信息或跳频信息，处理；
6、将此接收信息推送到接收表中，更新超时帧号，设置跳数为1；

23.解调
24.
25.待补充
